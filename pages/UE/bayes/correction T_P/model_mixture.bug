model {
    for (i in 1:N) {
        z[i] ~ dbern(p)
        x[i] ~ dnorm(m[z[i]+1],tau[z[i]+1])
    }
    m[1] ~ dnorm(0, 10)
    m[2] ~ dnorm(0, 10)
    tau[1] ~ dgamma(1,0.01)
    tau[2] ~ dgamma(1,0.01)
    p ~ dbeta(1,1)
}
